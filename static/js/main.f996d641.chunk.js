(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(29),i=c.n(a),s=c(11),o=(c(37),c(38),c(39),c(2)),j=c(0),u=function(){return Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{exact:!0,to:"/",className:"",activeClassName:"",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/movies",className:"",activeClassName:"",children:"Movies"})})]})})},l=c(4),h=c.n(l),b=c(10),d=c(7),O=function(e){var t=e.moviesList;return Object(j.jsx)("ul",{children:t&&t.map((function(e){var t=e.id,c=e.original_title;return Object(j.jsx)("li",{children:Object(j.jsx)(s.b,{to:"/movies/".concat(t),children:Object(j.jsx)("p",{children:c})})},t)}))})},v=c(13),x=c.n(v),f="https://api.themoviedb.org/3/",p="6aab34192b7a363d622c25c364ff9e4e",m=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){a()}),[]);var a=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(f,"trending/movie/day?api_key=").concat(p)).then((function(e){return e.data.results})).catch((function(e){return console.log(e)}));case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(O,{moviesList:c})},g=function(e){var t=e.movieDetails;return t&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:t.original_title,width:300}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:t.original_title})," (",t.release_date,")",Object(j.jsxs)("p",{children:["User Score: ",10*t.vote_average,"%"]}),Object(j.jsx)("h2",{children:"Overview"}),Object(j.jsx)("p",{children:t.overview}),Object(j.jsx)("h2",{children:"Genres"})]})]})},w=function(e){var t=e.movieId;return Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/movies/".concat(t,"/cast"),children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(s.c,{to:"/movies/".concat(t,"/reviews"),children:"Reviews"})})]})},y=function(e){var t=e.movieId,c=Object(n.useState)(null),r=Object(d.a)(c,2),a=r[0],i=r[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(b.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,x.a.get("".concat(f,"/movie/").concat(n,"/credits?api_key=").concat(p)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:c=e.sent,i(c);case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("ul",{children:a&&a.cast.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSz5UULZ_ymiZ1Ig1F6QmZd2KB3nAwqHhD7A&usqp=CAU",alt:e.name,width:150}),Object(j.jsx)("p",{children:e.name}),Object(j.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})},S=c(32),_=function(e){var t=e.movieId,c=Object(S.useState)(null),r=Object(d.a)(c,2),a=r[0],i=r[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(b.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,x.a.get("".concat(f,"movie/").concat(n,"/reviews?api_key=").concat(p,"&language=en-US&page=1")).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:c=e.sent,i(c.results);case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("ul",{children:a&&a.length>0?a.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsxs)("h2",{children:["Author:",e.author]}),Object(j.jsx)("p",{children:e.content})]},e.id)})):Object(j.jsx)("h2",{children:"We don't have any reviews for this movie "})})},k=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(o.f)().movieId,i=Object(o.g)().url;Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=a,x.a.get("".concat(f,"movie/").concat(c,"?api_key=").concat(p,"&language=en-US")).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{movieDetails:c}),Object(j.jsx)("hr",{}),Object(j.jsx)(w,{movieId:a}),Object(j.jsx)("hr",{}),Object(j.jsx)(o.a,{exact:!0,path:"".concat(i,"/cast"),children:Object(j.jsx)(y,{movieId:a})}),Object(j.jsx)(o.a,{exact:!0,path:"".concat(i,"/reviews"),children:Object(j.jsx)(_,{movieId:a})})]})},I=function(e){var t=e.handleChangeQuery,c=Object(n.useState)(null),r=Object(d.a)(c,2),a=r[0],i=r[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(j.jsx)("input",{type:"text",onChange:function(e){i(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Search"})]})},C=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),i=Object(d.a)(a,2),s=i[0],o=i[1];Object(n.useEffect)((function(){""!==c&&u()}),[c]);var u=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=c,x.a.get("".concat(f,"search/movie?api_key=").concat(p,"&query=").concat(n,"&language=en-US")).then((function(e){return e.data.results})).catch((function(e){return console.log(e)}));case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(I,{handleChangeQuery:function(e){r(e)}}),Object(j.jsx)(O,{moviesList:s})]})};var U=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{children:Object(j.jsx)(u,{})}),Object(j.jsx)("hr",{}),Object(j.jsx)("main",{children:Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)("h1",{children:"waiting..."}),children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",children:Object(j.jsx)(m,{})}),Object(j.jsx)(o.a,{path:"/movies/:movieId",children:Object(j.jsx)(k,{})}),Object(j.jsx)(o.a,{path:"/movies/",children:Object(j.jsx)(C,{})}),Object(j.jsx)(o.a,{children:Object(j.jsx)(m,{})})]})})})]})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(U,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f996d641.chunk.js.map